(this.webpackJsonpichack=this.webpackJsonpichack||[]).push([[0],{108:function(e,t,a){e.exports=a(159)},113:function(e,t,a){},114:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},115:function(e,t,a){},159:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),o=a(9),r=a.n(o),i=(a(113),a(22)),c=a(14),s=a(28),u=a(29),m=a(30),p=(a(114),a(115),a(210)),d=a(213),h=a(215),g=a(49),f=a(216),b=Object(p.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1}}}));function v(){var e=b(),t=function(){document.location.href="/"};return l.a.createElement("div",{className:e.root},l.a.createElement(d.a,{position:"static"},l.a.createElement(h.a,{onClick:t,style:{cursor:"pointer"}},l.a.createElement(f.a,{onClick:t,edge:"start",className:e.menuButton,color:"inherit","aria-label":"menu"},l.a.createElement("img",{style:{height:"30px"},src:"/icon_white.png"})),l.a.createElement(g.a,{variant:"h6",className:e.title},"LinkUp"))))}var y=a(16),E=a(43),x=a.n(E),k=a(237),w=a(91),C=a.n(w),j=a(226),O=a(92),S=a.n(O),R=a(90),P=a.n(R),I=a(236),_=a(238),N=a(228),M=a(231),L=(a(158),a(227)),A=a(48),z=a(2),T=a(232),B=a(221),D=a(217),J=a(218),F=a(219),G=a(220),U=a(58),W=a(89),K=a.n(W),Y=a(86),Q=a.n(Y),V=a(87),X=a.n(V),Z=a(88),$=a.n(Z),q=a(234),H=a(225),ee=a(223),te=a(224),ae=a(222);function ne(e){var t=e.item,a=(e.children,e.value),n=e.index,o=(Object(z.a)(e,["item","children","value","index"]),{width:"100%",height:"100%",media:{height:0,paddingTop:"56.25%"},expand:{transform:"rotate(0deg)",marginLeft:"auto"},expandOpen:{transform:"rotate(180deg)"},avatar:{backgroundColor:U.a[500]}});return l.a.createElement(D.a,{role:"tabpanel",hidden:a!==n,id:"simple-tabpanel-".concat(n),"aria-labelledby":"simple-tab-".concat(n),style:o.root},l.a.createElement(J.a,{title:t.name,subheader:l.a.createElement("div",null,l.a.createElement("a",{target:"_blank",href:t.maps_url},t.address),l.a.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"}},l.a.createElement(Q.a,null),l.a.createElement("span",{style:{margin:"5px"}},t.phone_number)))}),l.a.createElement(F.a,{style:o.media,image:t.photo_url}),l.a.createElement(G.a,null,l.a.createElement("div",{style:{display:"flex",width:"100%",marginBottom:"10px"}},l.a.createElement("div",{style:{display:"flex",flex:1,alignItems:"center",justifyContent:"center"}},"Price:",-1!=t.price_level?new Array(t.price_level).fill(0).map((function(e,t){return l.a.createElement(X.a,null)})):" No price information "),l.a.createElement("div",{style:{display:"flex",flex:1,alignItems:"center",justifyContent:"center"}},-1!=t.rating?t.rating:"No rating available",l.a.createElement($.a,null))),t.opening_hours.map((function(e,t){return l.a.createElement(g.a,{variant:"body2",color:"textSecondary",component:"p"},e)})),l.a.createElement("div",{style:{marginTop:"10px"}}),t.routes.map((function(e,t){return l.a.createElement(g.a,{variant:"body2",color:"textSecondary",component:"p"},"Travel duration from ",e.origin,": ",e.journey_length)}))))}function le(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}}var oe=Object(p.a)((function(e){return{root:{flexGrow:1,backgroundColor:e.palette.background.paper}}}));function re(e){var t=oe(),a=l.a.useState(0),n=Object(A.a)(a,2),o=n[0],r=n[1],i=l.a.useState(!1),c=Object(A.a)(i,2),s=c[0],u=c[1],m=l.a.useState(""),p=Object(A.a)(m,2),h=p[0],g=p[1],b=function(){u(!1)};return l.a.createElement("div",{className:t.root},l.a.createElement(d.a,{position:"static"},l.a.createElement(T.a,{TabIndicatorProps:{style:{backgroundColor:"white"}},value:o,onChange:function(t,a){var n={lat:e.results[a].lat,lng:e.results[a].lng};e.tabClicked(n),r(a)},"aria-label":"simple tabs example"},l.a.createElement(B.a,Object.assign({label:"Result 1"},le(0))),l.a.createElement(B.a,Object.assign({label:"Result 2"},le(1))),l.a.createElement(B.a,Object.assign({label:"Result 3"},le(2))))),e.results.map((function(e,t){return l.a.createElement(ne,{item:e,value:o,index:t})})),window.location.href.includes("share")?null:l.a.createElement(f.a,{onClick:function(){x.a.post("/generate-share-link",{data:JSON.stringify({nearest_places:e.results})}).then((function(e){g("http://localhost:3000/share/"+e.data),u(!0)})).catch((function(e){console.log(e)}))}},l.a.createElement(K.a,null)),l.a.createElement(q.a,{open:s,onClose:b,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},l.a.createElement(ae.a,{id:"alert-dialog-title"},"Share the link below with your friends!"),l.a.createElement(ee.a,null,l.a.createElement(te.a,{id:"alert-dialog-description"},h)),l.a.createElement(H.a,null,l.a.createElement(j.a,{onClick:b,color:"primary"},"Close"),l.a.createElement(j.a,{onClick:function(){navigator.clipboard.writeText(h).then((function(e){alert("Copied to cliipboard!")}),(function(e){console.log(e)}))},color:"primary",autoFocus:!0},"Copy to clipboard"))))}var ie=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={showInput:!0,locations:[""],category:"Restaurants",selectedDate:new Date("2014-08-18T21:11:54"),loading:!1},a.changeText=function(e,t){var n=e.target.value,l=Object(y.a)(a.state.locations);l[t]=n,a.setState({locations:l})},a.addLocationField=function(){a.setState({locations:[].concat(Object(y.a)(a.state.locations),[""])})},a.removeLocation=function(e){var t=a.state.locations;t.splice(e,1),a.setState({locations:t})},a.selectCategory=function(e){var t=e.target.value;a.setState({category:t})},a.postLocationInput=function(){if(0==a.state.locations.length&&a.state.locations.includes(""))alert("Please make sure your input is not empty!");else{a.setState({loading:!0});var e=a.state.locations;e=e.filter((function(e){return""!=e})),x.a.post("/post-location-inputs",{data:JSON.stringify({locations:e,category:a.state.category})}).then((function(e){a.setState({showInput:!1,results:e.data,loading:!1}),a.props.locationsReceived(e.data)})).catch((function(e){a.setState({loading:!1})}))}},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement("div",null,this.state.loading?l.a.createElement(L.a,{style:{width:"100px",height:"100px",marginTop:"65%"}}):this.state.showInput?l.a.createElement("div",{style:{padding:"40px"}},l.a.createElement(N.a,{style:{float:"left",marginBottom:"20px"}},l.a.createElement(I.a,{shrink:!0,id:"demo-simple-select-placeholder-label-label"},"Category"),l.a.createElement(M.a,{labelId:"demo-simple-select-placeholder-label-label",id:"demo-simple-select-placeholder-label",value:this.state.category,onChange:this.selectCategory,displayEmpty:!0},l.a.createElement(_.a,{value:"Restaurants"},"Restaurants"),l.a.createElement(_.a,{value:"Shopping"},"Shopping"),l.a.createElement(_.a,{value:"Things to do"},"Things to do"))),l.a.createElement("form",{noValidate:!0,autoComplete:"off"},this.state.locations.map((function(t,a){return l.a.createElement("div",{key:a,style:{marginBottom:"20px",justifyContent:"center",alignItems:"center",width:"100%",display:"flex"}},l.a.createElement(k.a,{style:{width:"100%",paddingRight:"20px"},value:e.state.locations.index,label:"Location "+(a+1),onChange:function(t){e.changeText(t,a)},variant:"outlined"}),l.a.createElement(f.a,{onClick:function(){e.removeLocation(a)},style:{boxShadow:"0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)",color:"white",backgroundColor:"red",width:"48px",height:"48px"},"aria-label":"delete"},l.a.createElement(P.a,{fontSize:"small"})))}))),l.a.createElement(j.a,{variant:"contained",color:"primary",size:"large",style:{width:"100%",marginBottom:"20px"},onClick:this.addLocationField,startIcon:l.a.createElement(C.a,null)},"Add location"),l.a.createElement(j.a,{variant:"contained",color:"primary",size:"large",style:{width:"100%",marginBottom:"20px"},onClick:this.postLocationInput,endIcon:l.a.createElement(S.a,null)},"Find me a place")):l.a.createElement(re,{tabClicked:this.props.tabClicked,results:this.state.results}))}}]),t}(l.a.Component),ce=a(93),se=a.n(ce),ue=function(e){var t=e.text,a=e.color,n=e.type;return l.a.createElement("div",null,l.a.createElement("div",{className:"pin bounce",style:{backgroundColor:a,cursor:"pointer"}}),"result"==n?l.a.createElement("div",{className:"marker-no bounce-no-rotate"},t):l.a.createElement("div",{className:"marker-name bounce-no-rotate"},t),l.a.createElement("div",{className:"pulse"}))},me=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={center:{lat:51.498818,lng:-.17488},zoom:16},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidUpdate",value:function(e){if(console.log(e),e.tabClickPosition.lat!=this.props.tabClickPosition.lat)this.setState({center:this.props.tabClickPosition,zoom:17});else if(e.results.length!==this.props.results.length){var t=[].concat(Object(y.a)(this.props.results),Object(y.a)(this.props.inputResults));if(console.log(t),this.props.results.length!==e.results.length){for(var a,n,l,o,r,i,c=-360,s=360,u=-360,m=360,p=0;p<t.length;p++)c=Math.max(c,t[p].lat),s=Math.min(s,t[p].lat),u=Math.max(u,t[p].lng),m=Math.min(m,t[p].lng);a=(c+s)/2,n=(u+m)/2,l=c-s,o=u-m,i=(r=Math.abs(Math.max(l,o)/360*40075016))<1128?16:r<2256?16:r<4513?15:r<9027?14:r<18055?13:r<36111?12:r<72223?11:r<144447?10:r<288895?9:r<577790?8:r<1155581?7:r<2311162?6:r<4622324?5:r<9244649?4:3,this.setState({center:{lat:a,lng:n},zoom:i})}}}},{key:"render",value:function(){return l.a.createElement("div",{style:{height:"calc(100vh - 64px)",width:"100%"}},l.a.createElement(se.a,{bootstrapURLKeys:{key:"AIzaSyDRjXSw6KA9jg1WBA--alzfabOCCQ6oMOI"},defaultCenter:this.props.center,center:this.state.center,defaultZoom:this.state.zoom,zoom:this.state.zoom,onGoogleApiLoaded:this.mapLoaded,heatmapLibrary:!0},this.props.results.map((function(e,t){return l.a.createElement(ue,{key:"result-marker"+t,lat:e.lat,lng:e.lng,text:t+1,color:"red",type:"result"})})),this.props.inputResults.map((function(e,t){return l.a.createElement(ue,{key:"input-marker"+t,lat:e.lat,lng:e.lng,text:e.text,color:"blue",type:"input"})}))))}}]),t}(l.a.Component),pe=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={inputResults:[],nearestPlaces:[],newMapPos:{lat:0,lng:0}},a.tabClicked=function(e){a.setState({newMapPos:e})},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=window.location.pathname.replace("/share/","");x.a.post("/get-share",{data:JSON.stringify({id:t})}).then((function(t){var a=t.data.nearest_places[0].routes.map((function(e){return{lat:e.origin_lat,lng:e.origin_lng,text:e.origin}}));e.setState({nearestPlaces:t.data.nearest_places,inputResults:a})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){return l.a.createElement("div",{className:"App"},l.a.createElement("div",{style:{display:"flex"}},l.a.createElement("div",{style:{flex:4,height:"100%",overflowY:"scroll"}},l.a.createElement(re,{tabClicked:this.tabClicked,results:this.state.nearestPlaces})),l.a.createElement("div",{style:{flex:8}},l.a.createElement(me,{tabClickPosition:this.state.newMapPos,inputResults:this.state.inputResults,results:this.state.nearestPlaces}))))}}]),t}(l.a.Component),de=a(94),he=a(34),ge=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={results:[],inputResults:[],newMapPos:{lat:0,lng:0}},a.locationsReceived=function(e){console.log(e[0]);var t=e[0].routes.map((function(e){return{lat:e.origin_lat,lng:e.origin_lng,text:e.origin}}));a.setState({results:e,inputResults:t})},a.tabClicked=function(e){a.setState({newMapPos:e})},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return l.a.createElement(de.a,null,l.a.createElement("div",null,l.a.createElement(v,{style:{position:"fixed"}}),l.a.createElement(he.c,null,l.a.createElement(he.a,{path:"/share/:id"},l.a.createElement("div",null,l.a.createElement(pe,null))),l.a.createElement(he.a,{path:"/"},l.a.createElement("div",{className:"App"},l.a.createElement("div",{style:{display:"flex"}},l.a.createElement("div",{style:{flex:4,height:"100%",overflowY:"scroll"}},l.a.createElement(ie,{tabClicked:this.tabClicked,locationsReceived:this.locationsReceived})),l.a.createElement("div",{style:{flex:8}},l.a.createElement(me,{tabClickPosition:this.state.newMapPos,inputResults:this.state.inputResults,results:this.state.results}))))))))}}]),t}(l.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(l.a.createElement(ge,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[108,1,2]]]);
//# sourceMappingURL=main.59ec0f7d.chunk.js.map